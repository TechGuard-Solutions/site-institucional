<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="icon" href="assets/Logo - TechGuard 1.png">
    <link rel="stylesheet" href="./css/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"></script>
    <script src="js/dashboard.js"></script>

    <!-- Imports Components -->
    <link rel="stylesheet" href="./components/menu.css">
    <script src="./components/menu.js"></script>
</head>

<body>
    <div class="todo-fundo">
        <sidebar-menu></sidebar-menu>
        <div class="fundo-infos">
            <div class="infos-nome">
                <p id="nomeEmpresa">NOME DA EMPRESA</p>
                <p id="nomeUsuario">NOME DO USUARIO</p>
            </div>
            <div class="kpis">
                <div class="kpi kpi-cinza">Data do ultimo ataque</div>
                <div class="kpi">Usuarios mais afetados</div>
                <div class="kpi">Ataques mal sucedidos</div>
            </div>
            <div class="graficos">

                <canvas id="myChart"></canvas>
                <canvas id="myChart2"></canvas>

            </div>
        </div>
    </div>
</body>

</html>

<script>
    nomeEmpresa.innerHTML = `${sessionStorage.nomeEmpresa}`;
    nomeUsuario.innerHTML = `${sessionStorage.nomeUsuario}`;

    const ctx = document.getElementById('myChart');

    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Software and Applications',
                'Malware and Vulnerabilities',
                'Frameworks and Libraries',
                'Hardware and Firmware',
                'Protocols and APIs',
                'Development Tools and Packages'],
            datasets: [{
                label: 'Seis maiores ataques no ultimo mês',
                data: [19, 15, 12, 5, 3, 2],
                borderWidth: 1,
                fill: true,
                borderColor: 'white',
                backgroundColor: [
                    'rgb(255, 99, 132)', // Cor da primeira barra
                    'rgba(54, 162, 235)', // Cor da segunda barra
                    'rgba(255, 206, 86)', // Cor da terceira barra
                    'rgba(75, 192, 192)',  // Cor da quarta barra
                    'rgba(153, 102, 255)', // Cor da quinta barra
                    'rgba(255, 159, 64)'  // Cor da sexta barra    
                ], borderWidth: 2,
                tension: 0.1,
            }]
        },
        options: {
            indexAxis: 'y',
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        color: '#FFF',
                        font: {
                            size: 15
                        }
                    },
                    grid: {
                        display: false,
                        color: '#FFF'
                    }
                },
                x: {
                    ticks: {
                        color: '#FFF',
                        font: {
                            size: 15
                        }
                    },
                    grid: {
                        drawOnChart: true,
                        color: '#FFF'
                    }
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Seis maiores ataques no ultimo mês',
                    font: {
                        size: 20,
                    },
                    color: '#FFF',
                },
                legend: {
                    display: false,
                    labels: {
                        hidden: true,
                        color: '#ffffff',
                        font: {
                            size: 20
                        }
                    }
                }
            },
        }


    });

    const ctx2 = document.getElementById('myChart2').getContext('2d');

    const myChart = new Chart(ctx2, {

        type: 'bar',
        data: {
            labels: ['Data Extraction',
                'Remote Code Execution',
                'Backdoor Access',
                'Data Damage',
                'Payment Diversion',
                'Others'],

                datasets: [{
                label: 'Tipos de danos que mais ocorrem',
                data: [5, 2, 19, 15, 3, 12],
                borderWidth: 1,
                fill: true,
                borderColor: 'white',
                backgroundColor: [
                    'rgb(66, 11, 88)', // Cor da primeira barra
                    'rgb(252, 3, 108)', // Cor da segunda barra
                    'rgb(241, 162, 11)', // Cor da terceira barra
                    'rgb(141, 156, 9)', // Cor da quarta barra
                    'rgb(8, 128, 123)', // Cor da quinta barra
                    'rgb(52, 80, 43)'  // Cor da sexta barra    
                ], borderWidth: 2,
                tension: 0.1,
            }]
        },

        options: {
            indexAxis: 'y',
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        color: '#FFF',
                        font: {
                            size: 15
                        }
                    },
                    grid: {
                        display: false,
                        color: '#FFF'
                    }
                },
                x: {
                    ticks: {
                        color: '#FFF',
                        font: {
                            size: 15
                        }
                    },
                    grid: {
                        drawOnChart: true,
                        color: '#FFF'
                    }
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Tipos de danos que mais ocorrem',
                    font: {
                        size: 20,
                    },
                    color: '#FFF',
                },
                legend: {
                    display: false,
                    labels: {
                        hidden: true,
                        color: '#ffffff',
                        font: {
                            size: 20
                        }
                    }
                }
            },
        }
    });

</script>